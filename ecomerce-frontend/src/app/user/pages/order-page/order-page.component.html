<table mat-table [dataSource]="pedidos">
  <!-- Columna de Ãndice -->
  <ng-container matColumnDef="No.">
    <th mat-header-cell *matHeaderCellDef>No.</th>
    <td mat-cell *matCellDef="let pedido; let i = index">{{ i + 1 }}</td>
  </ng-container>

  <!-- Columna de Estado -->
  <ng-container matColumnDef="Estado">
    <th mat-header-cell *matHeaderCellDef>Estado</th>
    <td mat-cell *matCellDef="let pedido">{{ pedido.estado }}</td>
  </ng-container>

  <!-- Columna de Productos -->
  <ng-container matColumnDef="Productos">
    <th mat-header-cell *matHeaderCellDef>Productos</th>
    <td mat-cell *matCellDef="let pedido">
      <span *ngFor="let producto of pedido.productos; let last = last">
        {{ producto.producto.nombre | titlecase }} <ng-container *ngIf="!last"><br></ng-container>
      </span>
    </td>
  </ng-container>

  <!-- Columna de Fecha de Entrega -->
  <ng-container matColumnDef="Fecha Entrega">
    <th mat-header-cell *matHeaderCellDef>Fecha de Entrega</th>
    <td mat-cell *matCellDef="let pedido">{{ pedido.fecha_entrega | date }}</td>
  </ng-container>

  <!-- Agregar las columnas a la tabla -->
  <tr mat-header-row *matHeaderRowDef="columnas"></tr>
  <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
</table>
